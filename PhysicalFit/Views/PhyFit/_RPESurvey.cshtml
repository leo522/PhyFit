@{
    var rpeList = ViewBag.RPEScore as IEnumerable<dynamic>;
}
<div>
    <div>
        <label>請選擇您的自覺分數：</label>
        <table>
            <thead>
                <tr>
                    <th>強度區分</th>
                    <th>說明</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var rpe in rpeList)
                {
                    <tr>
                        <td class="rpe-item color-block"
                            data-score="@rpe.Score"
                            data-explanation="@rpe.Explanation"
                            data-description="@rpe.Description"
                            style="background-color: @GetColorForScore(rpe.Score);"
                            title="@rpe.Explanation">
                            @rpe.Description
                        </td>
                        <td class="rpe-item color-block"
                            data-score="@rpe.Score"
                            data-explanation="@rpe.Explanation"
                            data-description="@rpe.Description"
                            style="background-color: @GetColorForScore(rpe.Score);">
                            @rpe.Explanation
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    @functions {
        // 根據 RPE 分數返回顏色
        private string GetColorForScore(int score)
        {
            string color;

            switch (score)
            {
                case 0:
                    color = "#CAFFFF";
                    break;
                case 1:
                    color = "#66B3FF";
                    break;
                case 2:
                    color = "#0080FF";
                    break;
                case 3:
                    color = "#00A600";
                    break;
                case 4:
                    color = "#007500";
                    break;
                case 5:
                    color = "#FFDC35";
                    break;
                case 6:
                    color = "#FFD306";
                    break;
                case 7:
                    color = "#EA7500";
                    break;
                case 8:
                    color = "#BB3D00";
                    break;
                case 9:
                    color = "#FF0000";
                    break;
                case 10:
                    color = "#930000";
                    break;
                default:
                    color = "white"; // 預設顏色
                    break;
            }

            return color;
        }
    }
</div>